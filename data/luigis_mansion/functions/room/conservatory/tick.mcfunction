execute unless score #conservatory Ticking matches 1 run function luigis_mansion:room/conservatory/load
execute as @e[type=!minecraft:item_frame,x=653,y=102,z=-11,dx=11,dy=6,dz=28] run scoreboard players set @s Room 21

execute as @a[gamemode=!spectator,x=655,y=102,z=-9,dx=7,dy=6,dz=24] run function luigis_mansion:room/conservatory/tick_per_player

execute if score #conservatory Wave matches 3 unless entity @e[tag=melody_pianissima,scores={Room=21}] run function luigis_mansion:room/conservatory/clear
execute if score #conservatory Wave matches 1 if score #conservatory_saxophone Searched matches 1 if score #conservatory_harp Searched matches 1 if score #conservatory_chello Searched matches 1 if score #conservatory_drum_1 Searched matches 1 if score #conservatory_drum_2 Searched matches 1 if score #conservatory_drum_3 Searched matches 1 if score #conservatory_xylophone Searched matches 1 run scoreboard players set #conservatory Wave 2
execute if entity @a[advancements={luigis_mansion:mansion/conservatory=false}] unless score #conservatory Wave matches -1.. run function luigis_mansion:room/conservatory/wave_1

function luigis_mansion:room/door/main_hallway_conservatory

execute unless block 655 103 -8 minecraft:chest{LootTable:"luigis_mansion:search"} run function luigis_mansion:room/conservatory/search_closet
execute unless block 655 103 -9 minecraft:chest{LootTable:"luigis_mansion:search"} run function luigis_mansion:room/conservatory/search_closet

execute if entity @e[x=659.0,y=102,z=14.0,dx=0,dy=1,dz=0,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_saxophone
execute at @e[x=657.0,y=102,z=11.0,dx=1,dy=2,dz=1,type=minecraft:area_effect_cloud,tag=vacuum] if block ~ ~ ~ minecraft:gold_block run function luigis_mansion:room/conservatory/vacuum_harp
execute at @e[x=661.0,y=102,z=8.0,dx=1,dy=1,dz=1,type=minecraft:area_effect_cloud,tag=vacuum] if block ~ ~ ~ minecraft:spruce_planks run function luigis_mansion:room/conservatory/vacuum_chello
execute if entity @e[x=657.5,y=102,z=5.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_drum_1
execute if entity @e[x=658.5,y=102,z=3.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_drum_2
execute if entity @e[x=657.5,y=102,z=1.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_drum_3
execute if entity @e[x=661.0,y=102,z=1.0,dx=0,dy=0,dz=2,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_xylophone
execute at @e[x=659.0,y=102,z=-5.0,dx=3,dy=2,dz=5,type=minecraft:area_effect_cloud,tag=vacuum] unless block ~ ~ ~ minecraft:air run function luigis_mansion:room/conservatory/vacuum_piano
execute if entity @e[x=654.5,y=105,z=9.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_painting_1
execute if entity @e[x=654.5,y=105,z=3.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_painting_2
execute if entity @e[x=657.5,y=105,z=-9.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_painting_3
execute if entity @e[x=659.5,y=105,z=-9.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_painting_4
execute if entity @e[x=657.5,y=102,z=9.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_lectern_1
execute if entity @e[x=660.5,y=102,z=0.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_lectern_2
execute if entity @e[x=656.5,y=102,z=10.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_chair_1
execute if entity @e[x=661.5,y=102,z=7.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_chair_2
execute if entity @e[x=660.5,y=102,z=-5.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_chair_3
execute if entity @e[x=658.5,y=108,z=3.5,distance=..1,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] run function luigis_mansion:room/conservatory/vacuum_lamp
execute if entity @e[x=661.5,y=104,z=-9.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=vacuum,limit=1] as @e[x=661.5,y=104,z=-8.5,distance=..0.7,type=minecraft:item_frame,tag=poster,limit=1] run function luigis_mansion:room/conservatory/vacuum_poster

execute if entity @e[x=659.0,y=102,z=14.0,dx=0,dy=1,dz=0,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.44"}]}
execute at @e[x=657.0,y=102,z=11.0,dx=1,dy=2,dz=1,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan] if block ~ ~ ~ minecraft:gold_block run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.44"}]}
execute at @e[x=661.0,y=102,z=8.0,dx=1,dy=1,dz=1,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan] if block ~ ~ ~ minecraft:spruce_planks run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.44"}]}
execute if entity @e[x=657.5,y=102,z=5.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.44"}]}
execute if entity @e[x=658.5,y=102,z=3.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.44"}]}
execute if entity @e[x=657.5,y=102,z=1.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.44"}]}
execute if entity @e[x=661.0,y=102,z=1.0,dx=0,dy=0,dz=2,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.44"}]}
execute at @e[x=659.0,y=102,z=-5.0,dx=3,dy=2,dz=5,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan] unless block ~ ~ ~ minecraft:air run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.46"}]}
execute if entity @e[x=654.5,y=105,z=9.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.25"}]}
execute if entity @e[x=654.5,y=105,z=3.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.25"}]}
execute if entity @e[x=657.5,y=105,z=-9.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.25"}]}
execute if entity @e[x=659.5,y=105,z=-9.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.25"}]}
execute if entity @e[x=657.5,y=102,z=9.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.45"}]}
execute if entity @e[x=660.5,y=102,z=0.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.45"}]}
execute if entity @e[x=656.5,y=102,z=10.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.32"}]}
execute if entity @e[x=661.5,y=102,z=7.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.32"}]}
execute if entity @e[x=660.5,y=102,z=-5.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.79"}]}
execute if entity @e[x=658.5,y=108,z=3.5,distance=..1,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.65"}]}
execute if entity @e[x=661.5,y=104,z=-9.5,distance=..0.7,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] if entity @e[x=661.5,y=104,z=-8.5,distance=..0.7,type=minecraft:item_frame,tag=poster,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.25"}]}
execute if entity @e[x=656.5,y=102,z=-9.0,dx=1,dy=2,dz=2,type=minecraft:area_effect_cloud,tag=gameboy_horror_scan,limit=1] run tellraw @a {"translate":"chat.type.text","with":[{"selector":"@p[tag=scanning_player,gamemode=!spectator]","color":"green"},{"translate":"luigis_mansion:message.player.scan_furniture.87"}]}
